{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/user-settings.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/user-settings.vue","mtime":1564235953187},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { TitleBar, Panel, ListGroup, ListGroupItem, FileUploader, SectionTitle, NoResults, ErrorBanner, Modal, AppButton, ButtonGroup, DataImage, InputValidate } from '@/components';\nimport { ValidationObserver } from 'vee-validate';\nimport api from '@/api';\nimport deepCopy from '@/utils';\n\nvar UserSettings =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(UserSettings, _Vue);\n\n  function UserSettings() {\n    var _this;\n\n    _classCallCheck(this, UserSettings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserSettings).apply(this, arguments));\n    _this.user = {};\n    _this.userEdit = {};\n    _this.errorList = [];\n    _this.showImageModal = false;\n    _this.showInfoModal = false;\n    return _this;\n  }\n\n  _createClass(UserSettings, [{\n    key: \"created\",\n    value: function created() {\n      this.getUserInfo();\n    }\n  }, {\n    key: \"getUserInfo\",\n    value: function getUserInfo() {\n      var _this2 = this;\n\n      api.get('user/').then(function (resp) {\n        _this2.user = resp.data;\n      }).catch(function (error) {\n        _this2.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"openImageModal\",\n    value: function openImageModal() {\n      this.showImageModal = true;\n    }\n  }, {\n    key: \"openInfoModal\",\n    value: function openInfoModal() {\n      this.userEdit = deepCopy(this.user);\n      this.showInfoModal = true;\n    }\n  }, {\n    key: \"closeImageModal\",\n    value: function closeImageModal() {\n      this.showImageModal = false;\n    }\n  }, {\n    key: \"closeInfoModal\",\n    value: function closeInfoModal() {\n      this.showInfoModal = false;\n    }\n  }, {\n    key: \"submitImages\",\n    value: function submitImages() {\n      var body = {\n        id: this.user.id,\n        picture: this.userEdit.picture[0]\n      };\n      this.submitForm(body);\n      this.closeImageModal();\n    }\n  }, {\n    key: \"submitInfo\",\n    value: function submitInfo() {\n      var _this3 = this;\n\n      this.$refs.infoForm.validate().then(function (valid) {\n        if (valid) {\n          if (!_this3.userEdit.password) {\n            delete _this3.userEdit.password;\n          }\n\n          var body = _this3.userEdit;\n\n          _this3.submitForm(body);\n\n          _this3.closeInfoModal();\n        }\n      });\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(body) {\n      var _this4 = this;\n\n      api.put('user/', body).then(function (resp) {\n        _this4.user = resp.data;\n\n        _this4.getUserInfo();\n\n        _this4.$toast.success('User Updated');\n      }).catch(function (error) {\n        _this4.errorList.push(error.response.data.message);\n      });\n    }\n  }]);\n\n  return UserSettings;\n}(Vue);\n\nUserSettings = tslib_1.__decorate([Component({\n  components: {\n    TitleBar: TitleBar,\n    Panel: Panel,\n    ListGroup: ListGroup,\n    ListGroupItem: ListGroupItem,\n    FileUploader: FileUploader,\n    SectionTitle: SectionTitle,\n    NoResults: NoResults,\n    ErrorBanner: ErrorBanner,\n    Modal: Modal,\n    AppButton: AppButton,\n    ButtonGroup: ButtonGroup,\n    DataImage: DataImage,\n    InputValidate: InputValidate,\n    ValidationObserver: ValidationObserver\n  }\n})], UserSettings);\nexport default UserSettings;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/user-settings.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TitleBar, Panel, ListGroup, ListGroupItem, FileUploader, SectionTitle, NoResults, ErrorBanner, Modal, AppButton, ButtonGroup, DataImage, InputValidate } from '@/components';\nimport { IUser, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\nimport api from '@/api';\nimport deepCopy from '@/utils';\n\n@Component({\n  components: {\n    TitleBar,\n    Panel,\n    ListGroup,\n    ListGroupItem,\n    FileUploader,\n    SectionTitle,\n    NoResults,\n    ErrorBanner,\n    Modal,\n    AppButton,\n    ButtonGroup,\n    DataImage,\n    InputValidate,\n    ValidationObserver\n  }\n})\nexport default class UserSettings extends Vue {\n  user: IUser = {};\n  userEdit: IUser = {};\n  errorList: string[] = [];\n  showImageModal = false;\n  showInfoModal = false;\n\n  created() {\n    this.getUserInfo();\n  }\n\n  getUserInfo() {\n    api.get('user/').then( resp => {\n      this.user = resp.data;\n    }).catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  openImageModal() {\n    this.showImageModal = true;\n  }\n\n  openInfoModal() {\n    this.userEdit = deepCopy(this.user);\n    this.showInfoModal = true;\n  }\n\n  closeImageModal() {\n    this.showImageModal = false;\n  }\n\n  closeInfoModal() {\n    this.showInfoModal = false;\n  }\n\n  submitImages() {\n    let body = { id: this.user.id, picture: this.userEdit.picture[0] };\n    this.submitForm(body);\n    this.closeImageModal();\n  }\n\n  submitInfo() {\n    (this.$refs.infoForm as VForm).validate().then( valid => {\n      if (valid) {\n        if(!this.userEdit.password) {\n          delete this.userEdit.password;\n        }\n        let body = this.userEdit;\n        this.submitForm(body);\n        this.closeInfoModal();\n      }\n    });\n  }\n\n  submitForm(body) {\n    api.put('user/', body).then( resp => {\n      this.user = resp.data;\n      this.getUserInfo();\n      this.$toast.success('User Updated');\n    }).catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n}\n"],"sourceRoot":""}]}