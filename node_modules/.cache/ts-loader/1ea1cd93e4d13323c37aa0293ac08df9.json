{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/patterns/supplier-editor.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/patterns/supplier-editor.vue","mtime":1564160334494},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AppTable, AppButton, ButtonGroup, ErrorBanner } from '@/components';\nimport api from '@/api';\nimport SupplierForm from '@/pages/products/product-items/supplier-form.vue';\nimport { ValidationObserver } from 'vee-validate';\nimport deepCopy from '@/utils';\n\nvar SupplierEditor =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(SupplierEditor, _Vue);\n\n  function SupplierEditor() {\n    var _this;\n\n    _classCallCheck(this, SupplierEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SupplierEditor).apply(this, arguments));\n    _this.suppliers = [];\n    _this.editItem = {\n      address: {}\n    };\n    _this.errorList = [];\n    _this.showForm = false;\n    _this.isEdit = false;\n    _this.columns = [{\n      label: 'Name',\n      selector: 'name'\n    }, {\n      label: 'Location',\n      slotName: 'location'\n    }, {\n      label: 'Actions',\n      slotName: 'actions'\n    }];\n    return _this;\n  }\n\n  _createClass(SupplierEditor, [{\n    key: \"created\",\n    value: function created() {\n      this.getSuppliers();\n    }\n  }, {\n    key: \"getSuppliers\",\n    value: function getSuppliers() {\n      var _this2 = this;\n\n      api.get('supplier/all').then(function (resp) {\n        _this2.suppliers = resp.data;\n      }).catch(function (error) {\n        _this2.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"showBackBtn\",\n    value: function showBackBtn() {\n      return this.$listeners && this.$listeners['back-click'];\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.showForm = false;\n      this.editItem = {\n        address: {}\n      };\n    }\n  }, {\n    key: \"editSupplier\",\n    value: function editSupplier(item) {\n      this.isEdit = true;\n      this.editItem = deepCopy(item);\n      this.showForm = true;\n    }\n  }, {\n    key: \"deleteSupplier\",\n    value: function deleteSupplier(item) {\n      var _this3 = this;\n\n      api.delete('supplier/' + item.id).then(function (resp) {\n        _this3.getSuppliers();\n      }).catch(function (error) {\n        _this3.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm() {\n      if (this.isEdit) {\n        this.submitEdit();\n      } else {\n        this.submitNew();\n      }\n    }\n  }, {\n    key: \"submitNew\",\n    value: function submitNew() {\n      var _this4 = this;\n\n      api.post('supplier/', this.editItem).then(function (resp) {\n        _this4.getSuppliers();\n\n        _this4.$toast.success('Supplier Added');\n      }).catch(function (error) {\n        _this4.errorList.push(error.response.data.message);\n      });\n      this.showForm = false;\n    }\n  }, {\n    key: \"submitEdit\",\n    value: function submitEdit() {\n      var _this5 = this;\n\n      this.$refs.form.validate().then(function (valid) {\n        if (valid) {\n          api.put('supplier/' + _this5.editItem.id, _this5.editItem).then(function (resp) {\n            _this5.getSuppliers();\n\n            _this5.$toast.success('Supplier Updated');\n          }).catch(function (error) {\n            _this5.errorList.push(error.response.data.message);\n          });\n          _this5.isEdit = false;\n          _this5.showForm = false;\n        }\n      });\n    }\n  }]);\n\n  return SupplierEditor;\n}(Vue);\n\nSupplierEditor = tslib_1.__decorate([Component({\n  components: {\n    AppTable: AppTable,\n    AppButton: AppButton,\n    ButtonGroup: ButtonGroup,\n    ErrorBanner: ErrorBanner,\n    SupplierForm: SupplierForm,\n    ValidationObserver: ValidationObserver\n  }\n})], SupplierEditor);\nexport default SupplierEditor;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/patterns/supplier-editor.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { AppTable, AppButton, ButtonGroup, ErrorBanner } from '@/components';\nimport api from '@/api';\nimport { ISupplier, VForm } from '@/interfaces';\nimport SupplierForm from '@/pages/products/product-items/supplier-form.vue';\nimport { ValidationObserver } from 'vee-validate';\nimport deepCopy from '@/utils';\n\n@Component({\n  components: { AppTable, AppButton, ButtonGroup, ErrorBanner, SupplierForm, ValidationObserver }\n})\nexport default class SupplierEditor extends Vue {\n  suppliers: ISupplier[] = [];\n  editItem: ISupplier = { address: {} };\n  errorList: string[] = [];\n  showForm = false;\n  isEdit = false;\n  columns = [\n    { label: 'Name', selector: 'name' },\n    { label: 'Location', slotName: 'location' },\n    { label: 'Actions', slotName: 'actions' }\n  ];\n\n  created() {\n    this.getSuppliers();\n  }\n\n  getSuppliers() {\n    api.get('supplier/all').then(resp => {\n      this.suppliers = resp.data;\n    })\n    .catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  showBackBtn() {\n    return this.$listeners && this.$listeners['back-click'];\n  }\n\n  cancel() {\n    this.showForm = false;\n    this.editItem = { address: {} };\n  }\n\n  editSupplier(item) {\n    this.isEdit = true;\n    this.editItem = deepCopy(item);\n    this.showForm = true;\n  }\n\n  deleteSupplier(item) {\n    api.delete('supplier/' + item.id).then( resp => {\n      this.getSuppliers();\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  submitForm() {\n    if (this.isEdit) {\n      this.submitEdit();\n    }\n    else {\n      this.submitNew();\n    }\n  }\n\n  submitNew() {\n    api.post('supplier/', this.editItem).then( resp => {\n      this.getSuppliers();\n      this.$toast.success('Supplier Added');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.showForm = false;\n  }\n\n  submitEdit() {\n    (this.$refs.form as VForm).validate().then( valid => {\n      if(valid) {\n        api.put('supplier/' + this.editItem.id, this.editItem).then( resp => {\n          this.getSuppliers();\n          this.$toast.success('Supplier Updated');\n        })\n        .catch(error => {\n          this.errorList.push(error.response.data.message);\n        });\n        this.isEdit = false;\n        this.showForm = false;\n      }\n    });\n  }\n}\n\n"],"sourceRoot":""}]}