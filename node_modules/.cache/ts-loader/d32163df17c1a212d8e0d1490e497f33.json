{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/products/product-items.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/products/product-items.vue","mtime":1582820051562},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Panel, ListGroup, ListGroupItem, AppTable, Badge, AppButton, Modal, ErrorBanner, DataImage, Pagination, FileImport } from '@/components';\nimport ProductItemPanel from \"./product-item-panel.vue\";\nimport NewProductItem from \"./product-items/new-product-item.vue\";\nimport api from '@/api';\nimport deepCopy from '@/utils';\nimport { ConfirmationModal } from '@/patterns';\n\nvar ProductItems =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(ProductItems, _Vue);\n\n  function ProductItems() {\n    var _this;\n\n    _classCallCheck(this, ProductItems);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductItems).apply(this, arguments));\n    _this.productItems = [];\n    _this.filteredProductItems = [];\n    _this.selectedItem = {};\n    _this.showDetails = false;\n    _this.showModal = false;\n    _this.columns = [{\n      label: 'Picture',\n      slotName: 'image',\n      class: 'img-thumbnail'\n    }, {\n      label: 'Name',\n      slotName: 'name'\n    }, {\n      label: 'Case Quantity',\n      selector: 'caseQty'\n    }, {\n      label: 'Case Cost',\n      selector: 'caseCost',\n      filter: 'currency'\n    }, {\n      label: 'Item Cost',\n      selector: 'itemCost',\n      filter: 'currency'\n    }, {\n      label: 'Supplier',\n      selector: 'supplier.name'\n    }, {\n      label: 'Inventory',\n      slotName: 'inventory'\n    }, {\n      label: 'Product Identifiers',\n      slotName: 'prodId'\n    }, {\n      label: 'Last Updated',\n      selector: 'updatedOn',\n      filter: 'date'\n    }, {\n      label: 'Actions',\n      slotName: 'actions'\n    }];\n    _this.errorList = [];\n    _this.showConfirmModal = false;\n    _this.deleteObj = {};\n    return _this;\n  }\n\n  _createClass(ProductItems, [{\n    key: \"created\",\n    value: function created() {\n      this.getProductItems();\n    }\n  }, {\n    key: \"getProductItems\",\n    value: function getProductItems() {\n      var _this2 = this;\n\n      api.get('productitem/all').then(function (resp) {\n        _this2.productItems = resp.data;\n        _this2.filteredProductItems = resp.data;\n      }).catch(function (error) {\n        _this2.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"openDetails\",\n    value: function openDetails(obj) {\n      this.showDetails = true;\n      this.selectedItem = obj;\n    }\n  }, {\n    key: \"closeDetails\",\n    value: function closeDetails() {\n      this.showDetails = false;\n      this.selectedItem = {};\n    }\n  }, {\n    key: \"openModal\",\n    value: function openModal() {\n      this.showModal = true;\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.showModal = false;\n    }\n  }, {\n    key: \"saveNewItem\",\n    value: function saveNewItem(value) {\n      var _this3 = this;\n\n      api.post('productitem/', value).then(function (resp) {\n        _this3.getProductItems();\n\n        _this3.$toast.success('Product Item Created');\n      }).catch(function (error) {\n        _this3.errorList.push(error.response.data.message);\n      });\n      this.closeModal();\n    }\n  }, {\n    key: \"countInventory\",\n    value: function countInventory(inventory, field) {\n      var count = 0;\n      inventory.forEach(function (item) {\n        var test = \"this\";\n        count += item[field];\n      });\n      return count;\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(range) {\n      var productItems = deepCopy(this.productItems);\n\n      if (productItems) {\n        this.filteredProductItems = productItems.splice(range.start, range.end);\n      }\n    }\n  }, {\n    key: \"showConfirm\",\n    value: function showConfirm(obj) {\n      this.deleteObj = obj;\n      this.showConfirmModal = true;\n    }\n  }, {\n    key: \"deleteProductItem\",\n    value: function deleteProductItem() {\n      var _this4 = this;\n\n      api.delete('productitem/' + this.deleteObj.id).then(function (resp) {\n        _this4.$toast.success('Deleted ' + _this4.deleteObj.name);\n\n        _this4.getProductItems();\n      }).catch(function (error) {\n        _this4.errorList.push(error.response.data.message);\n      });\n      this.showConfirmModal = false;\n    }\n  }]);\n\n  return ProductItems;\n}(Vue);\n\nProductItems = tslib_1.__decorate([Component({\n  components: {\n    Panel: Panel,\n    ListGroup: ListGroup,\n    ListGroupItem: ListGroupItem,\n    AppTable: AppTable,\n    AppButton: AppButton,\n    Badge: Badge,\n    ProductItemPanel: ProductItemPanel,\n    Modal: Modal,\n    NewProductItem: NewProductItem,\n    ErrorBanner: ErrorBanner,\n    DataImage: DataImage,\n    Pagination: Pagination,\n    ConfirmationModal: ConfirmationModal,\n    FileImport: FileImport\n  }\n})], ProductItems);\nexport default ProductItems;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/products/product-items.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Panel, ListGroup, ListGroupItem, AppTable, Badge, AppButton, Modal, ErrorBanner, DataImage, Pagination, FileImport } from '@/components';\nimport ProductItemPanel from './product-item-panel.vue';\nimport NewProductItem from './product-items/new-product-item.vue';\nimport api from '@/api';\nimport deepCopy from '@/utils';\nimport { IProduct, IProductItem, IProductItemQuantity } from '@/interfaces';\nimport { ConfirmationModal } from '@/patterns';\n\n@Component({\n  components: {\n    Panel,\n    ListGroup,\n    ListGroupItem,\n    AppTable,\n    AppButton,\n    Badge,\n    ProductItemPanel,\n    Modal,\n    NewProductItem,\n    ErrorBanner,\n    DataImage,\n    Pagination,\n    ConfirmationModal,\n    FileImport\n  }\n})\nexport default class ProductItems extends Vue {\n  productItems: IProductItem[] = [];\n  filteredProductItems: IProductItem[] = [];\n  selectedItem = {};\n  showDetails = false;\n  showModal = false;\n  columns = [\n    { label: 'Picture', slotName: 'image', class: 'img-thumbnail' },\n    { label: 'Name', slotName: 'name' },\n    { label: 'Case Quantity', selector: 'caseQty' },\n    { label: 'Case Cost', selector: 'caseCost', filter: 'currency' },\n    { label: 'Item Cost', selector: 'itemCost', filter: 'currency' },\n    { label: 'Supplier', selector: 'supplier.name' },\n    { label: 'Inventory', slotName: 'inventory' },\n    { label: 'Product Identifiers', slotName: 'prodId' },\n    { label: 'Last Updated', selector: 'updatedOn', filter: 'date' },\n    { label: 'Actions', slotName: 'actions' }\n  ];\n  errorList: string[] = [];\n  showConfirmModal: boolean = false;\n  deleteObj: IProduct = {};\n\n  created() {\n    this.getProductItems();\n  }\n\n  getProductItems() {\n    api.get('productitem/all').then(resp => {\n      this.productItems = resp.data;\n      this.filteredProductItems = resp.data;\n    }).catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  openDetails(obj) {\n    this.showDetails = true;\n    this.selectedItem = obj;\n  }\n\n  closeDetails() {\n    this.showDetails = false;\n    this.selectedItem = {};\n  }\n\n  openModal() {\n    this.showModal = true;\n  }\n\n  closeModal() {\n    this.showModal = false;\n  }\n\n  saveNewItem(value) {\n    api.post('productitem/', value).then(resp => {\n      this.getProductItems();\n      this.$toast.success('Product Item Created');\n    }).catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.closeModal();\n  }\n\n  countInventory(inventory, field) {\n    let count = 0;\n    inventory.forEach(item => {\n      let test = \"this\";\n      count += item[field];\n    });\n\n    return count;\n  }\n\n  changePage(range) {\n    let productItems = deepCopy(this.productItems);\n    if(productItems) {\n      this.filteredProductItems = productItems.splice(range.start, range.end);\n    }\n  }\n\n  showConfirm(obj) {\n    this.deleteObj = obj;\n    this.showConfirmModal = true;\n  }\n\n  deleteProductItem() {\n    api.delete('productitem/' + this.deleteObj.id).then(resp => {\n      this.$toast.success('Deleted ' + this.deleteObj.name);\n      this.getProductItems();\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n\n    this.showConfirmModal = false;\n  }\n}\n"],"sourceRoot":""}]}