{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/new-product-order.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/new-product-order.vue","mtime":1564235953177},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Panel, AppTable, AppButton, ButtonGroup, InputField, InputValidate, SelectBox, Counter, ListGroup, ListGroupItem, Badge, SliderPanel, Tab, Accordion, AccordionItem, NoResults, ErrorBanner, FeeInput, FeeEditor, Modal, DataImage, StatusSelect, SectionTitle, Pagination, TitleBar, DatePicker } from '@/components';\nimport api from '@/api';\nimport { ValidationObserver } from 'vee-validate';\nimport ProductOrderSummary from \"./product-order-summary.vue\";\nimport deepCopy from '@/utils';\n\nvar NewProductOrder =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(NewProductOrder, _Vue);\n\n  function NewProductOrder() {\n    var _this;\n\n    _classCallCheck(this, NewProductOrder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewProductOrder).apply(this, arguments));\n    _this.products = [];\n    _this.filteredProducts = [];\n    _this.newProductOrder = {\n      fees: [],\n      productQuantities: []\n    };\n    _this.showFeeModal = false;\n    _this.selectedProduct = {};\n    _this.showProdDetails = false;\n    _this.productColumns = [{\n      label: 'Quantity',\n      slotName: 'count'\n    }, {\n      label: 'Name',\n      slotName: 'name'\n    }, {\n      label: 'MSRP',\n      selector: 'msrp'\n    }, {\n      label: 'Status',\n      slotName: 'status'\n    }];\n    _this.errorList = [];\n    return _this;\n  }\n\n  _createClass(NewProductOrder, [{\n    key: \"created\",\n    value: function created() {\n      this.getProducts();\n    }\n  }, {\n    key: \"getProducts\",\n    value: function getProducts() {\n      var _this2 = this;\n\n      api.get('product/all').then(function (resp) {\n        _this2.products = resp.data;\n        _this2.filteredProducts = resp.data;\n      }).catch(function (error) {\n        _this2.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"findCountObj\",\n    value: function findCountObj(id) {\n      var prodQty = this.newProductOrder.productQuantities;\n      return prodQty.find(function (item) {\n        return item.product.id === id;\n      });\n    }\n  }, {\n    key: \"getCount\",\n    value: function getCount(item) {\n      var countItem = this.findCountObj(item.id);\n      return countItem ? countItem.count : 0;\n    }\n  }, {\n    key: \"changeCount\",\n    value: function changeCount(val, item) {\n      var countItem = this.findCountObj(item.id);\n      var prodQty = this.newProductOrder.productQuantities;\n      var count = val !== '' ? parseInt(val) : 0;\n\n      if (countItem) {\n        if (count === 0) {\n          var index = prodQty.findIndex(function (obj) {\n            return obj.product.id === item.id;\n          });\n          prodQty.splice(index, 1);\n        } else {\n          countItem.count = count;\n        }\n      } else {\n        prodQty.push({\n          count: count,\n          product: item\n        });\n      }\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(range) {\n      var products = deepCopy(this.products);\n      this.filteredProducts = products.splice(range.start, range.end);\n    }\n  }, {\n    key: \"openDetails\",\n    value: function openDetails(product) {\n      this.selectedProduct = product;\n      this.showProdDetails = true;\n    }\n  }, {\n    key: \"closeDetails\",\n    value: function closeDetails(product) {\n      this.selectedProduct = {};\n      this.showProdDetails = false;\n    }\n  }, {\n    key: \"clearForm\",\n    value: function clearForm() {\n      this.newProductOrder = {\n        productQuantities: []\n      };\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm() {\n      var _this3 = this;\n\n      this.$refs.newOrder.validate().then(function (valid) {\n        if (valid) {\n          api.post('productorder/', _this3.newProductOrder).then(function (resp) {\n            _this3.$toast.success('New product order created');\n\n            _this3.clearForm();\n          }).catch(function (error) {\n            _this3.errorList.push(error.response.data.message);\n          });\n        }\n\n        _this3.$refs.newOrder.reset();\n      });\n    }\n  }]);\n\n  return NewProductOrder;\n}(Vue);\n\nNewProductOrder = tslib_1.__decorate([Component({\n  components: {\n    Panel: Panel,\n    AppTable: AppTable,\n    AppButton: AppButton,\n    ButtonGroup: ButtonGroup,\n    InputField: InputField,\n    InputValidate: InputValidate,\n    SelectBox: SelectBox,\n    Counter: Counter,\n    ListGroup: ListGroup,\n    ListGroupItem: ListGroupItem,\n    Badge: Badge,\n    SliderPanel: SliderPanel,\n    Tab: Tab,\n    Accordion: Accordion,\n    AccordionItem: AccordionItem,\n    NoResults: NoResults,\n    ErrorBanner: ErrorBanner,\n    FeeInput: FeeInput,\n    FeeEditor: FeeEditor,\n    Modal: Modal,\n    ValidationObserver: ValidationObserver,\n    DataImage: DataImage,\n    StatusSelect: StatusSelect,\n    SectionTitle: SectionTitle,\n    ProductOrderSummary: ProductOrderSummary,\n    Pagination: Pagination,\n    TitleBar: TitleBar,\n    DatePicker: DatePicker\n  }\n})], NewProductOrder);\nexport default NewProductOrder;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/new-product-order.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport {\n  Panel,\n  AppTable,\n  AppButton,\n  ButtonGroup,\n  InputField,\n  InputValidate,\n  SelectBox,\n  Counter,\n  ListGroup,\n  ListGroupItem,\n  Badge,\n  SliderPanel,\n  Tab,\n  Accordion,\n  AccordionItem,\n  NoResults,\n  ErrorBanner,\n  FeeInput,\n  FeeEditor,\n  Modal,\n  DataImage,\n  StatusSelect,\n  SectionTitle,\n  Pagination,\n  TitleBar,\n  DatePicker\n} from '@/components';\nimport api from '@/api';\nimport { IProduct, IProductOrder, IFee, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\nimport ProductOrderSummary from './product-order-summary.vue';\nimport deepCopy from '@/utils';\n\n@Component({\n  components: {\n    Panel,\n    AppTable,\n    AppButton,\n    ButtonGroup,\n    InputField,\n    InputValidate,\n    SelectBox,\n    Counter,\n    ListGroup,\n    ListGroupItem,\n    Badge,\n    SliderPanel,\n    Tab,\n    Accordion,\n    AccordionItem,\n    NoResults,\n    ErrorBanner,\n    FeeInput,\n    FeeEditor,\n    Modal,\n    ValidationObserver,\n    DataImage,\n    StatusSelect,\n    SectionTitle,\n    ProductOrderSummary,\n    Pagination,\n    TitleBar,\n    DatePicker\n  }\n})\nexport default class NewProductOrder extends Vue {\n  products: IProduct[] = [];\n  filteredProducts: IProduct[] = [];\n  newProductOrder: IProductOrder = { fees: [], productQuantities: [] };\n  showFeeModal = false;\n  selectedProduct: IProduct = {};\n  showProdDetails = false;\n  productColumns = [\n    { label: 'Quantity', slotName: 'count' },\n    { label: 'Name', slotName: 'name' },\n    { label: 'MSRP', selector: 'msrp' },\n    { label: 'Status', slotName: 'status' }\n  ];\n  errorList: string[] = [];\n\n  created() {\n    this.getProducts();\n  }\n\n  getProducts() {\n    api.get('product/all').then(resp => {\n      this.products = resp.data;\n      this.filteredProducts = resp.data;\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  findCountObj(id) {\n    let prodQty = this.newProductOrder.productQuantities;\n    return prodQty.find(item => item.product.id === id);\n  }\n\n  getCount(item) {\n    let countItem = this.findCountObj(item.id);\n    return countItem ? countItem.count : 0;\n  }\n\n  changeCount(val, item) {\n    let countItem = this.findCountObj(item.id);\n    let prodQty = this.newProductOrder.productQuantities;\n    let count = val !== '' ? parseInt(val) : 0;\n    if (countItem) {\n      if (count === 0) {\n        let index = prodQty.findIndex(obj => obj.product.id === item.id);\n        prodQty.splice(index, 1);\n      }\n      else {\n        countItem.count = count;\n      }\n    }\n    else {\n      prodQty.push({ count: count, product: item });\n    }\n  }\n\n  changePage(range) {\n    let products = deepCopy(this.products);\n    this.filteredProducts = products.splice(range.start, range.end);\n  }\n\n  openDetails(product) {\n    this.selectedProduct = product;\n    this.showProdDetails = true;\n  }\n\n  closeDetails(product) {\n    this.selectedProduct = {};\n    this.showProdDetails = false;\n  }\n\n  clearForm() {\n    this.newProductOrder = { productQuantities: [] };\n  }\n\n  submitForm() {\n    (this.$refs.newOrder as VForm).validate().then( valid => {\n      if(valid) {\n        api.post('productorder/', this.newProductOrder).then(resp => {\n          this.$toast.success('New product order created');\n          this.clearForm();\n        }).catch(error => {\n          this.errorList.push(error.response.data.message);\n        });\n      }\n      (this.$refs.newOrder as VForm).reset();\n    });\n  }\n}\n"],"sourceRoot":""}]}