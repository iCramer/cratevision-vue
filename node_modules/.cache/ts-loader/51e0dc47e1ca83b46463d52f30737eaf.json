{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/product-order-history.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/product-order-history.vue","mtime":1564235669796},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Panel, AppTable, AppButton, ErrorBanner, Badge, Pagination, TitleBar } from '@/components';\nimport { ConfirmationModal } from '@/patterns';\nimport api from '@/api';\nimport deepCopy from '@/utils';\n\nvar ProductOrderHistory =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(ProductOrderHistory, _Vue);\n\n  function ProductOrderHistory() {\n    var _this;\n\n    _classCallCheck(this, ProductOrderHistory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductOrderHistory).apply(this, arguments));\n    _this.orders = [];\n    _this.filteredOrders = [];\n    _this.columns = [{\n      label: 'Id',\n      slotName: 'id'\n    }, {\n      label: 'Delivery Date',\n      selector: 'deliveredOn',\n      filter: 'date'\n    }, {\n      label: 'Status',\n      slotName: 'status'\n    }, {\n      label: 'Total Products',\n      slotName: 'total'\n    }, {\n      label: 'Last Updated',\n      selector: 'updatedOn',\n      filter: 'date'\n    }, {\n      label: 'Actions',\n      slotName: 'actions'\n    }];\n    _this.errorList = [];\n    _this.showConfirmModal = false;\n    _this.deleteObj = {};\n    return _this;\n  }\n\n  _createClass(ProductOrderHistory, [{\n    key: \"created\",\n    value: function created() {\n      this.getOrders();\n    }\n  }, {\n    key: \"getOrders\",\n    value: function getOrders() {\n      var _this2 = this;\n\n      api.get('productorder/all').then(function (resp) {\n        _this2.orders = resp.data;\n        _this2.filteredOrders = resp.data;\n      }).catch(function (error) {\n        _this2.errorList.push(error);\n      });\n    }\n  }, {\n    key: \"getProductCount\",\n    value: function getProductCount(prodQty) {\n      var total = 0;\n      prodQty.forEach(function (item) {\n        return total += item.count;\n      });\n      return total;\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(range) {\n      var orders = deepCopy(this.orders);\n      this.filteredOrders = orders.splice(range.start, range.end);\n    }\n  }, {\n    key: \"showConfirm\",\n    value: function showConfirm(obj) {\n      this.deleteObj = obj;\n      this.showConfirmModal = true;\n    }\n  }, {\n    key: \"deleteOrder\",\n    value: function deleteOrder() {\n      var _this3 = this;\n\n      api.delete('productorder/' + this.deleteObj.id).then(function (resp) {\n        _this3.$toast.success('Product Order Deleted');\n\n        _this3.getOrders();\n      }).catch(function (error) {\n        _this3.errorList.push(error.response.data.message);\n      });\n      this.showConfirmModal = false;\n    }\n  }]);\n\n  return ProductOrderHistory;\n}(Vue);\n\nProductOrderHistory = tslib_1.__decorate([Component({\n  components: {\n    Panel: Panel,\n    AppTable: AppTable,\n    AppButton: AppButton,\n    ErrorBanner: ErrorBanner,\n    ConfirmationModal: ConfirmationModal,\n    Badge: Badge,\n    Pagination: Pagination,\n    TitleBar: TitleBar\n  }\n})], ProductOrderHistory);\nexport default ProductOrderHistory;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/product-orders/product-order-history.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Panel, AppTable, AppButton, ErrorBanner, Badge, Pagination, TitleBar } from '@/components';\nimport { ConfirmationModal } from '@/patterns';\nimport api from '@/api';\nimport { IProductOrder, IProductQuantity } from '@/interfaces';\nimport deepCopy from '@/utils';\n\n@Component({\n  components: {\n    Panel,\n    AppTable,\n    AppButton,\n    ErrorBanner,\n    ConfirmationModal,\n    Badge,\n    Pagination,\n    TitleBar\n  }\n})\nexport default class ProductOrderHistory extends Vue {\n  orders: IProductOrder[] = [];\n  filteredOrders: IProductOrder[] = [];\n  columns = [\n    { label: 'Id', slotName: 'id' },\n    { label: 'Delivery Date', selector: 'deliveredOn', filter: 'date' },\n    { label: 'Status', slotName: 'status' },\n    { label: 'Total Products', slotName: 'total' },\n    { label: 'Last Updated', selector: 'updatedOn', filter: 'date' },\n    { label: 'Actions', slotName: 'actions' }\n  ];\n  errorList: string[] = [];\n  showConfirmModal = false;\n  deleteObj: IProductOrder = {};\n\n  created() {\n    this.getOrders();\n  }\n\n  getOrders() {\n    api.get('productorder/all').then(resp => {\n      this.orders = resp.data;\n      this.filteredOrders = resp.data;\n    })\n    .catch(error => {\n      this.errorList.push(error);\n    });\n  }\n\n  getProductCount(prodQty: IProductQuantity[]) {\n    let total = 0;\n    prodQty.forEach( item => total += item.count);\n    return total;\n  }\n\n  changePage(range) {\n    let orders = deepCopy(this.orders);\n    this.filteredOrders = orders.splice(range.start, range.end);\n  }\n\n  showConfirm(obj) {\n    this.deleteObj = obj;\n    this.showConfirmModal = true;\n  }\n\n  deleteOrder() {\n    api.delete('productorder/' + this.deleteObj.id).then(resp => {\n      this.$toast.success('Product Order Deleted');\n      this.getOrders();\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n\n    this.showConfirmModal = false;\n  }\n}\n"],"sourceRoot":""}]}