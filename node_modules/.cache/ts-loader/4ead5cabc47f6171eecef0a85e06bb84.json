{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/components/file-uploader.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/components/file-uploader.vue","mtime":1582824931780},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoResults, AppButton, ButtonGroup } from '@/components';\nimport ProgressBar from \"./progress-bar.vue\";\nimport api from '@/api';\n\nvar FileUploader =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(FileUploader, _Vue);\n\n  function FileUploader() {\n    var _this;\n\n    _classCallCheck(this, FileUploader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FileUploader).apply(this, arguments));\n    _this.fileList = [];\n    _this.uploadedFiles = [];\n    return _this;\n  }\n\n  _createClass(FileUploader, [{\n    key: \"onChange\",\n    value: function onChange(evt) {\n      var files = evt.target.files;\n\n      for (var i = 0; i < files.length; i++) {\n        this.fileList.push({\n          status: 'queued',\n          file: files[i]\n        });\n      }\n\n      ;\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(file) {\n      if (file.status === 'complete') {\n        return 'success';\n      } else if (file.status === 'failed') {\n        return 'danger';\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getLabel\",\n    value: function getLabel(file) {\n      if (file.status === 'complete') {\n        return 'Complete';\n      } else if (file.status === 'failed') {\n        return 'Failed';\n      } else {\n        return file.status + '%';\n      }\n    }\n  }, {\n    key: \"removeFile\",\n    value: function removeFile(file) {\n      this.fileList = this.fileList.filter(function (item) {\n        return item !== file;\n      });\n      this.uploadedFiles = this.uploadedFiles.filter(function (item) {\n        return item !== file;\n      });\n    }\n  }, {\n    key: \"upload\",\n    value: function upload() {\n      var _this2 = this;\n\n      this.fileList.forEach(function (file) {\n        if (file.status !== 'complete') {\n          var fd = new FormData();\n          fd.append('file', file.file);\n          fd.append('name', file.file.name);\n          api.post('media/upload', fd, {\n            onUploadProgress: function onUploadProgress(uploadEvt) {\n              file.status = Math.round(uploadEvt.loaded / uploadEvt.total * 100);\n            }\n          }).then(function (resp) {\n            file.status = 'complete';\n\n            _this2.uploadedFiles.push({\n              id: resp.data.id,\n              name: resp.data.name\n            });\n\n            _this2.$emit('input', _this2.uploadedFiles);\n          }).catch(function (error) {\n            file.status = 'failed';\n          });\n        }\n      });\n    }\n  }]);\n\n  return FileUploader;\n}(Vue);\n\ntslib_1.__decorate([Prop({\n  default: true\n})], FileUploader.prototype, \"multiple\", void 0);\n\nFileUploader = tslib_1.__decorate([Component({\n  components: {\n    NoResults: NoResults,\n    AppButton: AppButton,\n    ButtonGroup: ButtonGroup,\n    ProgressBar: ProgressBar\n  }\n})], FileUploader);\nexport default FileUploader;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/components/file-uploader.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoResults, AppButton, ButtonGroup } from '@/components';\nimport ProgressBar from './progress-bar.vue';\nimport api from '@/api';\n\n@Component({\n  components: { NoResults, AppButton, ButtonGroup, ProgressBar }\n})\nexport default class FileUploader extends Vue {\n  @Prop({default: true}) multiple: boolean;\n  fileList: any[] = [];\n  uploadedFiles: any[] = [];\n\n  onChange(evt: any) {\n    let files = evt.target.files;\n    for (let i = 0; i < files.length; i++) {\n      this.fileList.push({\n        status: 'queued',\n        file: files[i]\n      });\n    };\n  }\n\n  getStyle(file) {\n    if (file.status === 'complete') {\n      return 'success';\n    }\n    else if (file.status === 'failed') {\n      return 'danger';\n    }\n\n    return null;\n  }\n\n  getLabel(file) {\n    if (file.status === 'complete') {\n      return 'Complete';\n    }\n    else if (file.status === 'failed') {\n      return 'Failed';\n    }\n    else {\n      return file.status + '%';\n    }\n  }\n\n  removeFile(file) {\n    this.fileList = this.fileList.filter( item => item !== file );\n    this.uploadedFiles = this.uploadedFiles.filter( item => item!== file );\n  }\n\n  upload() {\n    this.fileList.forEach(file => {\n      if(file.status !== 'complete') {\n        let fd = new FormData();\n        fd.append('file', file.file);\n        fd.append('name', file.file.name);\n        api.post('media/upload', fd, {\n          onUploadProgress: uploadEvt => {\n            file.status = Math.round(uploadEvt.loaded / uploadEvt.total * 100);\n          }\n        }).then(resp => {\n          file.status = 'complete';\n          this.uploadedFiles.push({ id: resp.data.id, name: resp.data.name });\n          this.$emit('input', this.uploadedFiles);\n        }).catch( error => {\n          file.status = 'failed';\n        });\n      }\n    });\n  }\n}\n"],"sourceRoot":""}]}