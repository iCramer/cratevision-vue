{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/components/top-bar.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/components/top-bar.vue","mtime":1566224161820},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport ErrorBanner from \"./error-banner.vue\";\nimport AppButton from \"./button.vue\";\nimport DataImage from \"./data-image.vue\";\nimport api from '@/api';\n\nvar TopBar =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(TopBar, _Vue);\n\n  function TopBar() {\n    var _this;\n\n    _classCallCheck(this, TopBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TopBar).apply(this, arguments));\n    _this.userInfo = {\n      name: '',\n      org: {\n        name: ''\n      }\n    };\n    _this.avatarOpen = false;\n    _this.isLoggedIn = true;\n    _this.initials = '';\n    _this.errorList = [];\n    return _this;\n  }\n\n  _createClass(TopBar, [{\n    key: \"created\",\n    value: function created() {\n      this.getUserInfo();\n      document.addEventListener('click', this.outsideClick);\n    }\n  }, {\n    key: \"destroyed\",\n    value: function destroyed() {\n      document.removeEventListener('click', this.outsideClick);\n    }\n  }, {\n    key: \"routeChange\",\n    value: function routeChange() {\n      this.avatarOpen = false;\n    }\n  }, {\n    key: \"getUserInfo\",\n    value: function getUserInfo() {\n      var _this2 = this;\n\n      api.get('/user/').then(function (resp) {\n        var user = resp.data;\n        _this2.userInfo = user, _this2.initials = user.firstName.charAt(0) + user.lastName.charAt(0);\n      }).catch(function (error) {\n        _this2.errorList.push(error.response.data.message);\n      });\n    }\n  }, {\n    key: \"outsideClick\",\n    value: function outsideClick(evt) {\n      var el = this.$refs.avatarMenu;\n      var target = evt.target;\n\n      if (el !== target && !el.contains(target)) {\n        this.avatarOpen = false;\n      }\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      sessionStorage.removeItem('jwt');\n      this.$router.push('/login');\n    }\n  }]);\n\n  return TopBar;\n}(Vue);\n\ntslib_1.__decorate([Watch('$route')], TopBar.prototype, \"routeChange\", null);\n\nTopBar = tslib_1.__decorate([Component({\n  components: {\n    ErrorBanner: ErrorBanner,\n    AppButton: AppButton,\n    DataImage: DataImage\n  }\n})], TopBar);\nexport default TopBar;",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/components/top-bar.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;AAiCA,SAAS,SAAT,EAA0B,GAA1B,EAA+B,KAA/B,QAA4C,wBAA5C;AACA,OAAO,WAAP;AACA,OAAO,SAAP;AACA,OAAO,SAAP;AACA,OAAO,GAAP,MAAgB,OAAhB;;AAKA,IAAqB,MAArB;AAAA;AAAA;AAAA;;AAHA,oBAAA;AAAA;;AAAA;;;AAIE,UAAA,QAAA,GAAgB;AAAC,MAAA,IAAI,EAAE,EAAP;AAAW,MAAA,GAAG,EAAE;AAAC,QAAA,IAAI,EAAE;AAAP;AAAhB,KAAhB;AACA,UAAA,UAAA,GAAa,KAAb;AACA,UAAA,UAAA,GAAa,IAAb;AACA,UAAA,QAAA,GAAW,EAAX;AACA,UAAA,SAAA,GAAsB,EAAtB;AARF;AA8CC;;AA3CD;AAAA;AAAA,8BAOS;AACL,WAAK,WAAL;AACA,MAAA,QAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,KAAK,YAAxC;AACD;AAVH;AAAA;AAAA,gCAYW;AACP,MAAA,QAAQ,CAAC,mBAAT,CAA6B,OAA7B,EAAsC,KAAK,YAA3C;AACD;AAdH;AAAA;AAAA,kCAiBa;AACT,WAAK,UAAL,GAAkB,KAAlB;AACD;AAnBH;AAAA;AAAA,kCAqBa;AAAA;;AACT,MAAA,GAAG,CAAC,GAAJ,CAAQ,QAAR,EAAkB,IAAlB,CAAwB,UAAA,IAAI,EAAG;AAC7B,YAAM,IAAI,GAAG,IAAI,CAAC,IAAlB;AACA,QAAA,MAAI,CAAC,QAAL,GAAgB,IAAhB,EACA,MAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,CAAtB,IAA2B,IAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,CAArB,CAD3C;AAED,OAJD,EAIG,KAJH,CAIU,UAAA,KAAK,EAAG;AAChB,QAAA,MAAI,CAAC,SAAL,CAAe,IAAf,CAAoB,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,OAAxC;AACD,OAND;AAOD;AA7BH;AAAA;AAAA,iCA+Be,GA/Bf,EA+BkB;AACd,UAAI,EAAE,GAAQ,KAAK,KAAL,CAAW,UAAzB;AACA,UAAI,MAAM,GAAG,GAAG,CAAC,MAAjB;;AACA,UAAI,EAAE,KAAK,MAAP,IAAiB,CAAC,EAAE,CAAC,QAAH,CAAY,MAAZ,CAAtB,EAA2C;AACzC,aAAK,UAAL,GAAkB,KAAlB;AACD;AACF;AArCH;AAAA;AAAA,6BAuCQ;AACJ,MAAA,cAAc,CAAC,UAAf,CAA0B,KAA1B;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD;AA1CH;;AAAA;AAAA,EAAoC,GAApC,CAAA;;AAiBE,OAAA,CAAA,UAAA,CAAA,CADC,KAAK,CAAC,QAAD,CACN,CAAA,E,gBAAA,E,aAAA,EAEC,IAFD;;AAjBmB,MAAM,GAAA,OAAA,CAAA,UAAA,CAAA,CAH1B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AAAE,IAAA,WAAW,EAAX,WAAF;AAAe,IAAA,SAAS,EAAT,SAAf;AAA0B,IAAA,SAAS,EAAT;AAA1B;AADH,CAAD,CAGiB,CAAA,EAAN,MAAM,CAAN;eAAA,M","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport ErrorBanner from './error-banner.vue';\nimport AppButton from './button.vue';\nimport DataImage from './data-image.vue';\nimport api from '@/api';\n\n@Component({\n  components: { ErrorBanner, AppButton, DataImage }\n})\nexport default class TopBar extends Vue {\n  userInfo: any = {name: '', org: {name: ''}};\n  avatarOpen = false;\n  isLoggedIn = true;\n  initials = '';\n  errorList: string[] = [];\n\n  created() {\n    this.getUserInfo();\n    document.addEventListener('click', this.outsideClick);\n  }\n\n  destroyed () {\n    document.removeEventListener('click', this.outsideClick);\n  }\n\n  @Watch('$route')\n  routeChange() {\n    this.avatarOpen = false;\n  }\n\n  getUserInfo() {\n    api.get('/user/').then( resp => {\n      const user = resp.data;\n      this.userInfo = user,\n      this.initials = user.firstName.charAt(0) + user.lastName.charAt(0);\n    }).catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  outsideClick(evt) {\n    let el: any = this.$refs.avatarMenu;\n    let target = evt.target;\n    if (el !== target && !el.contains(target)) {\n      this.avatarOpen = false;\n    }\n  }\n\n  logout() {\n    sessionStorage.removeItem('jwt');\n    this.$router.push('/login');\n  }\n}\n"],"sourceRoot":""}]}