{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/iancramer/GitHub/bundlevo-vue/src/filter.ts","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/filter.ts","mtime":1562347978021},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1557780378260}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nexport var Filter = function Filter(filters, data) {\n  if (!filters || !data) {\n    return data;\n  }\n\n  if (filters[0]['field'] === 'all') {\n    var searchValue = filters[0]['value'];\n    var keys = Object.keys(data[0]);\n    var matches = [];\n    data.forEach(function (obj, index) {\n      var isMatch = false;\n      keys.forEach(function (key) {\n        if (obj[key] && obj[key].toString().toUpperCase().includes(searchValue.toUpperCase())) {\n          isMatch = true;\n        }\n      });\n\n      if (isMatch) {\n        matches.push(index);\n      }\n    });\n    data = data.filter(function (item, index) {\n      return matches.indexOf(index) > -1;\n    });\n  } else {\n    filters.forEach(function (filter) {\n      if (filter['value'] !== '' && filter['value'] != null) {\n        // if(filter['fieldType'] === 'date-time') {\n        //   let date = moment.unix(filter['value'] / 1000).format('YYYY-MM-DD');\n        //   data = data.filter(item => moment.unix(item[filter['field']] / 1000).format('YYYY-MM-DD') === date);\n        // }\n        if (filter['fieldType'] === 'array') {\n          var arrayFilter = function arrayFilter(item) {\n            var isMatch = false;\n\n            if (item[filter['field']]) {\n              item[filter['field']].forEach(function (str) {\n                if (str['name'].toUpperCase() === filter['value'].toUpperCase()) {\n                  isMatch = true;\n                }\n              });\n            }\n\n            return isMatch;\n          };\n\n          data = data.filter(arrayFilter);\n        } else if (filter['fieldType'] === 'string') {\n          var stringFilter = function stringFilter(item) {\n            if (item[filter['field']] && item[filter['field']].toUpperCase() === filter['value'].toUpperCase()) {\n              return true;\n            } else {\n              return false;\n            }\n          };\n\n          data = data.filter(stringFilter);\n        } else {\n          data = data.filter(function (item) {\n            return item[filter['field']] === filter['value'];\n          });\n        }\n      }\n    });\n  }\n\n  return data;\n};",{"version":3,"sources":["/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/iancramer/GitHub/bundlevo-vue/src/filter.ts"],"names":[],"mappings":"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","sourcesContent":["export const Filter = (filters: Object[], data: any[]) => {\n  if (!filters || !data) {\n    return data;\n  }\n\n  if(filters[0]['field'] === 'all') {\n    let searchValue = filters[0]['value'];\n    let keys = Object.keys(data[0]);\n    let matches = [];\n    data.forEach(function(obj, index){\n      let isMatch = false;\n      keys.forEach( key => {\n        if(obj[key] && obj[key].toString().toUpperCase().includes(searchValue.toUpperCase())) {\n          isMatch = true;\n        }\n      });\n      if(isMatch) {\n        matches.push(index);\n      }\n    });\n\n    data = data.filter((item, index) => matches.indexOf(index) > -1);\n  }\n\n  else {\n    filters.forEach( filter => {\n      if(filter['value'] !== '' && filter['value'] != null) {\n        // if(filter['fieldType'] === 'date-time') {\n        //   let date = moment.unix(filter['value'] / 1000).format('YYYY-MM-DD');\n        //   data = data.filter(item => moment.unix(item[filter['field']] / 1000).format('YYYY-MM-DD') === date);\n        // }\n        if(filter['fieldType'] === 'array') {\n          let arrayFilter = function(item){\n            let isMatch = false;\n            if(item[filter['field']]) {\n              item[filter['field']].forEach(str => {\n                if(str['name'].toUpperCase() === filter['value'].toUpperCase()) {\n                  isMatch = true;\n                }\n              });\n            }\n            return isMatch;\n          };\n          data = data.filter(arrayFilter);\n        }\n        else if(filter['fieldType'] === 'string') {\n          let stringFilter = function(item) {\n            if(item[filter['field']] && item[filter['field']].toUpperCase() === filter['value'].toUpperCase()) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          }\n\n          data = data.filter(stringFilter);\n        }\n        else {\n          data = data.filter(item => item[filter['field']] === filter['value']);\n        }\n      }\n    });\n  }\n\n  return data;\n}\n"],"sourceRoot":""}]}