{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/configuration/warehouses.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/configuration/warehouses.vue","mtime":1564235953200},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Panel, NoResults, ErrorBanner, AppButton, ButtonGroup, InputValidate, Modal, AppTable, Pagination, SelectBox, InputField } from '@/components';\nimport { IWarehouse, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\nimport api from '@/api';\nimport deepCopy from '@/utils';\nimport { ConfirmationModal } from '@/patterns';\nimport { states } from '@/data/states';\n\n@Component({\n  components: {\n    Panel,\n    NoResults,\n    ErrorBanner,\n    AppButton,\n    ButtonGroup,\n    InputValidate,\n    ValidationObserver,\n    Modal,\n    AppTable,\n    Pagination,\n    SelectBox,\n    ConfirmationModal,\n    InputField\n  }\n})\nexport default class Warehouses extends Vue {\n  warehouses: IWarehouse[] = [];\n  editItem: IWarehouse = {};\n  showModal = false;\n  columns = [\n    { label: 'Name', selector: 'name' },\n    { label: 'Type', selector: 'warehouseType' },\n    { label: 'Location', slotName: 'location' },\n    { label: 'Actions', slotName: 'actions' },\n  ];\n  errorList: string[] = [];\n  states = states;\n  isEdit = false;\n  showConfirmModal = false;\n  deleteItem: IWarehouse = {};\n\n  created() {\n    this.getWarehouses();\n    this.resetEditItem();\n  }\n\n  getWarehouses() {\n    api.get('warehouse/all').then( resp => {\n      this.warehouses = resp.data;\n    })\n  }\n\n  openModal(obj) {\n    if(obj) {\n      if(!obj.location) {\n        obj.location = {};\n      }\n      this.editItem = deepCopy(obj);\n      this.isEdit = true;\n    }\n    this.showModal = true;\n  }\n\n  closeModal() {\n    this.showModal = false;\n    this.resetEditItem();\n    this.isEdit = false;\n  }\n\n  showConfirm(obj) {\n    this.deleteItem = obj;\n    this.showConfirmModal = true;\n  }\n\n  hideConfirm() {\n    this.showConfirmModal = false;\n    this.deleteItem = {};\n  }\n\n  resetEditItem() {\n    this.editItem = { location: {} };\n  }\n\n  submitForm() {\n    (this.$refs.form as VForm).validate().then( valid => {\n      if(valid) {\n        if(this.isEdit) {\n          this.submitEdit();\n        }\n        else {\n          this.submitNew();\n        }\n      }\n    });\n  }\n\n  submitNew() {\n    api.post('warehouse/', this.editItem).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Added');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.closeModal();\n  }\n\n  submitEdit() {\n    api.put('warehouse/' + this.editItem.id, this.editItem).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Updated');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.isEdit = false;\n    this.closeModal();\n  }\n\n  deleteWarehouse() {\n    api.delete('warehouse/' + this.deleteItem.id).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Deleted');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n}\n",{"version":3,"sources":["warehouses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"warehouses.vue","sourceRoot":"src/pages/configuration","sourcesContent":["<template>\n  <div>\n    <error-banner v-model=\"errorList\" />\n    <div class=\"toolbar\">\n      <app-button class=\"btn-push-right\" btnStyle=\"success\" icon=\"plus-circle\" @click=\"openModal()\">New Warehouse</app-button>\n    </div>\n    <panel title=\"Warehouses\">\n      <app-table :columns=\"columns\" :records=\"warehouses\">\n        <div slot=\"location\" slot-scope=\"{record}\">\n          <span v-if=\"record.location\">\n            {{ record.location.addressLine1 }} {{ record.location.addressLine2 }} {{ record.location.city }}, {{ record.location.state }} {{ record.location.zipCode }} {{ record.location.country }}\n          </span>\n        </div>\n        <span slot=\"actions\" slot-scope=\"{record}\">\n          <app-button btnStyle=\"info-link\" class=\"action-btn\" size=\"xs\" @click=\"showConfirm(record)\" icon=\"trash-alt\" />\n          <app-button btnStyle=\"info-link\" class=\"action-btn\" size=\"xs\" @click=\"openModal(record)\" icon=\"edit\" />\n        </span>\n      </app-table>\n      <pagination :totalRecords=\"warehouses.length\" />\n    </panel>\n    <modal title=\"Warehouse\" :open=\"showModal\">\n      <validation-observer ref=\"form\">\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <input-validate name=\"name\" label=\"Name\" rules=\"required\" v-model=\"editItem.name\" />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <input-field name=\"addressLine1\" label=\"Address Line 1\" v-model=\"editItem.location.addressLine1\" />\n            </div>\n            <div class=\"col-md-6\">\n              <input-field name=\"addressLine2\" label=\"Address Line 2\" v-model=\"editItem.location.addressLine2\" />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <input-field name=\"city\" label=\"City\" v-model=\"editItem.location.city\" />\n            </div>\n            <div class=\"col-md-6\">\n              <select-box name=\"state\" :options=\"states\" label=\"State\" v-model=\"editItem.location.state\" />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <input-field name=\"zipCode\" label=\"Zip Code\" v-model=\"editItem.location.zipCode\" />\n            </div>\n            <div class=\"col-md-6\">\n              <input-field name=\"country\" label=\"Country\" v-model=\"editItem.location.country\" />\n            </div>\n          </div>\n          <button-group>\n            <app-button @click=\"closeModal\" btnStyle=\"info-link\">Cancel</app-button>\n            <app-button btnType=\"submit\">Submit</app-button>\n          </button-group>\n        </form>\n      </validation-observer>\n    </modal>\n    <confirmation-modal v-if=\"deleteItem\" @cancel=\"showConfirmModal = false\" @confirm=\"deleteWarehouse\" :open=\"showConfirmModal\">\n      Are you sure you want to delete {{ deleteItem.name }}?\n    </confirmation-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Panel, NoResults, ErrorBanner, AppButton, ButtonGroup, InputValidate, Modal, AppTable, Pagination, SelectBox, InputField } from '@/components';\nimport { IWarehouse, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\nimport api from '@/api';\nimport deepCopy from '@/utils';\nimport { ConfirmationModal } from '@/patterns';\nimport { states } from '@/data/states';\n\n@Component({\n  components: {\n    Panel,\n    NoResults,\n    ErrorBanner,\n    AppButton,\n    ButtonGroup,\n    InputValidate,\n    ValidationObserver,\n    Modal,\n    AppTable,\n    Pagination,\n    SelectBox,\n    ConfirmationModal,\n    InputField\n  }\n})\nexport default class Warehouses extends Vue {\n  warehouses: IWarehouse[] = [];\n  editItem: IWarehouse = {};\n  showModal = false;\n  columns = [\n    { label: 'Name', selector: 'name' },\n    { label: 'Type', selector: 'warehouseType' },\n    { label: 'Location', slotName: 'location' },\n    { label: 'Actions', slotName: 'actions' },\n  ];\n  errorList: string[] = [];\n  states = states;\n  isEdit = false;\n  showConfirmModal = false;\n  deleteItem: IWarehouse = {};\n\n  created() {\n    this.getWarehouses();\n    this.resetEditItem();\n  }\n\n  getWarehouses() {\n    api.get('warehouse/all').then( resp => {\n      this.warehouses = resp.data;\n    })\n  }\n\n  openModal(obj) {\n    if(obj) {\n      if(!obj.location) {\n        obj.location = {};\n      }\n      this.editItem = deepCopy(obj);\n      this.isEdit = true;\n    }\n    this.showModal = true;\n  }\n\n  closeModal() {\n    this.showModal = false;\n    this.resetEditItem();\n    this.isEdit = false;\n  }\n\n  showConfirm(obj) {\n    this.deleteItem = obj;\n    this.showConfirmModal = true;\n  }\n\n  hideConfirm() {\n    this.showConfirmModal = false;\n    this.deleteItem = {};\n  }\n\n  resetEditItem() {\n    this.editItem = { location: {} };\n  }\n\n  submitForm() {\n    (this.$refs.form as VForm).validate().then( valid => {\n      if(valid) {\n        if(this.isEdit) {\n          this.submitEdit();\n        }\n        else {\n          this.submitNew();\n        }\n      }\n    });\n  }\n\n  submitNew() {\n    api.post('warehouse/', this.editItem).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Added');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.closeModal();\n  }\n\n  submitEdit() {\n    api.put('warehouse/' + this.editItem.id, this.editItem).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Updated');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n    this.isEdit = false;\n    this.closeModal();\n  }\n\n  deleteWarehouse() {\n    api.delete('warehouse/' + this.deleteItem.id).then( resp => {\n      this.getWarehouses();\n      this.$toast.success('Warehouse Deleted');\n    })\n    .catch(error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n}\n</script>\n"]}]}