{"remainingRequest":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iancramer/GitHub/bundlevo-vue/src/pages/products/product-items/new-product-item.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/iancramer/GitHub/bundlevo-vue/src/pages/products/product-items/new-product-item.vue","mtime":1564235953183},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1557780376697},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js","mtime":1557881577950},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1557780378880},{"path":"/Users/iancramer/GitHub/bundlevo-vue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1557780379303}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport { ListGroup, ListGroupItem, Badge, Modal, InputField, AppButton, ProgressTracker, ProgressTrackerStep, SupplierSelect, FileUploader, ErrorBanner, SectionTitle } from '@/components';\nimport BasicInfoForm from './basic-info-form.vue';\nimport InventoryForm from './inventory-form.vue';\nimport ProductIdentifierForm from './product-identifier-form.vue';\nimport api from '@/api';\nimport { ISupplier, IProductItem, IInventory, IProductIdentifier, IMedia, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\n\n@Component({\n  components: {\n    ListGroup,\n    ListGroupItem,\n    Badge,\n    InputField,\n    Modal,\n    AppButton,\n    ProgressTracker,\n    ProgressTrackerStep,\n    BasicInfoForm,\n    InventoryForm,\n    ProductIdentifierForm,\n    SupplierSelect,\n    FileUploader,\n    ValidationObserver,\n    ErrorBanner,\n    SectionTitle\n  }\n})\nexport default class NewProductItem extends Vue {\n  basicInfo: IProductItem = {};\n  productIdentifiers: IProductIdentifier[] = [{}];\n  inventory: IInventory[] = [{}];\n  supplier: ISupplier = {};\n  supplierOptions: ISupplier[] = [];\n  picture: IMedia = {};\n  validateBasicInfo: Function = () => {};\n  errorList: string[] = [];\n\n  mounted() {\n    this.validateBasicInfo = (this.$refs.basicInfo as VForm).validate;\n  }\n\n  created() {\n    this.getSuppliers();\n  }\n\n  getSuppliers() {\n    api.get('supplier/all').then( resp => {\n      this.supplierOptions = resp.data;\n    }).catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  addInventory() {\n    this.inventory.push({});\n  }\n\n  removeInventory(index) {\n    this.inventory.splice(index, 1);\n  }\n\n  addProdId() {\n    this.productIdentifiers.push({});\n  }\n\n  removeProdId(index) {\n    this.productIdentifiers.splice(index, 1);\n  }\n\n  onSubmit() {\n    let body = {\n      ...this.basicInfo,\n      picture: this.picture[0],\n      productIdentifiers: this.productIdentifiers,\n      inventory: this.inventory,\n      supplier: this.supplier\n    }\n    this.$emit('submit', body);\n  }\n\n  onCancel() {\n    this.$emit('cancel');\n    this.productIdentifiers = [{}];\n    this.inventory = [{ warehouse: {} }];\n    this.supplier = { address: {} };\n  }\n}\n\n",{"version":3,"sources":["new-product-item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"new-product-item.vue","sourceRoot":"src/pages/products/product-items","sourcesContent":["<template>\n  <form>\n    <error-banner v-model=\"errorList\" />\n    <progress-tracker @submit=\"onSubmit\" @cancel=\"onCancel\">\n      <progress-tracker-step title=\"Basic Info\" stepKey=\"basicInfo\" :validate=\"validateBasicInfo\">\n        <validation-observer ref=\"basicInfo\" slim>\n          <basic-info-form ref=\"basicInfo\" v-model=\"basicInfo\"></basic-info-form>\n        </validation-observer>\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <supplier-select v-model=\"supplier\" />\n          </div>\n        </div>\n      </progress-tracker-step>\n      <progress-tracker-step title=\"Inventory\" stepKey=\"inventory\">\n        <div v-for=\"(item, index) in inventory\">\n          <section-title :showBtn=\"index !== 0\" btnIcon=\"trash-alt\" sectionType=\"form\" @util-click=\"removeInventory(index)\" :class=\"{'mt-4': index !== 0}\">Inventory #{{index + 1}}</section-title>\n          <inventory-form v-model=\"inventory[index]\" :showEdit=\"false\" />\n        </div>\n        <app-button btnStyle=\"info-link\" size=\"xs\" icon=\"plus-circle\" @click=\"addInventory\">Add Inventory</app-button>\n      </progress-tracker-step>\n      <progress-tracker-step title=\"Identifier\" stepKey=\"productIdentifier\">\n        <div v-for=\"(item, index) in productIdentifiers\">\n          <section-title :showBtn=\"index !== 0\" btnIcon=\"trash-alt\" sectionType=\"form\" @util-click=\"removeProdId(index)\" :class=\"{'mt-4': index !== 0}\">Product Identifier #{{index + 1}}</section-title>\n          <product-identifier-form v-model=\"productIdentifiers[index]\" />\n        </div>\n        <app-button btnStyle=\"info-link\" size=\"xs\" icon=\"plus-circle\" @click=\"addProdId\">Add Identifier</app-button>\n      </progress-tracker-step>\n      <progress-tracker-step title=\"Image\" stepKey=\"images\">\n        <file-uploader :multiple=\"false\" v-model=\"picture\" />\n      </progress-tracker-step>\n    </progress-tracker>\n  </form>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport { ListGroup, ListGroupItem, Badge, Modal, InputField, AppButton, ProgressTracker, ProgressTrackerStep, SupplierSelect, FileUploader, ErrorBanner, SectionTitle } from '@/components';\nimport BasicInfoForm from './basic-info-form.vue';\nimport InventoryForm from './inventory-form.vue';\nimport ProductIdentifierForm from './product-identifier-form.vue';\nimport api from '@/api';\nimport { ISupplier, IProductItem, IInventory, IProductIdentifier, IMedia, VForm } from '@/interfaces';\nimport { ValidationObserver } from 'vee-validate';\n\n@Component({\n  components: {\n    ListGroup,\n    ListGroupItem,\n    Badge,\n    InputField,\n    Modal,\n    AppButton,\n    ProgressTracker,\n    ProgressTrackerStep,\n    BasicInfoForm,\n    InventoryForm,\n    ProductIdentifierForm,\n    SupplierSelect,\n    FileUploader,\n    ValidationObserver,\n    ErrorBanner,\n    SectionTitle\n  }\n})\nexport default class NewProductItem extends Vue {\n  basicInfo: IProductItem = {};\n  productIdentifiers: IProductIdentifier[] = [{}];\n  inventory: IInventory[] = [{}];\n  supplier: ISupplier = {};\n  supplierOptions: ISupplier[] = [];\n  picture: IMedia = {};\n  validateBasicInfo: Function = () => {};\n  errorList: string[] = [];\n\n  mounted() {\n    this.validateBasicInfo = (this.$refs.basicInfo as VForm).validate;\n  }\n\n  created() {\n    this.getSuppliers();\n  }\n\n  getSuppliers() {\n    api.get('supplier/all').then( resp => {\n      this.supplierOptions = resp.data;\n    }).catch( error => {\n      this.errorList.push(error.response.data.message);\n    });\n  }\n\n  addInventory() {\n    this.inventory.push({});\n  }\n\n  removeInventory(index) {\n    this.inventory.splice(index, 1);\n  }\n\n  addProdId() {\n    this.productIdentifiers.push({});\n  }\n\n  removeProdId(index) {\n    this.productIdentifiers.splice(index, 1);\n  }\n\n  onSubmit() {\n    let body = {\n      ...this.basicInfo,\n      picture: this.picture[0],\n      productIdentifiers: this.productIdentifiers,\n      inventory: this.inventory,\n      supplier: this.supplier\n    }\n    this.$emit('submit', body);\n  }\n\n  onCancel() {\n    this.$emit('cancel');\n    this.productIdentifiers = [{}];\n    this.inventory = [{ warehouse: {} }];\n    this.supplier = { address: {} };\n  }\n}\n\n</script>\n"]}]}